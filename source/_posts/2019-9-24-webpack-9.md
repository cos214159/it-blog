---
title: webpack 筆記 (9) -  Sass-loader 和 autoPrefix
date: 2019-09-24 15:47:14
tags: 
  - webpack
categories: 前端
---

大致上目前已經有了解到，如果我們想載入甚麼樣的檔案，一定會有個相對應的 loader 或是 plugins 可以供我們使用，在這一篇會介紹 Sass-loader 的載入方式。

```
npm i --save-dev sass-loader  node-sass
```

首先一樣會先載入 loader，除此之外還需要安裝 node-sass 套件，這個是 sass 的編譯器。

然後再進入到我們的設定檔，這個設定的順序 sass-loader 會最先被使用，所以要放在最後面，經過編譯成 css 檔之後會交由 css-loader 處理，最後則是給MiniCssExtractPlugin.loader, 注入至一個 .css 檔案裡面

``` JavaScript
{
  test: /\.(scss|sass)$/,
  use: [
      MiniCssExtractPlugin.loader,
      "css-loader",
      "sass-loader"
  ]
},
```

## 加上前綴詞
由於現在很多瀏覽器支援的 CSS 屬性有些是需要加上前綴詞的，而這些前綴詞我們也不可能每次都去查看文件，並且一個一個加入， 這樣會做到死 XD，於是就有 postCSS 工具，可以將我們編譯出來的 CSS 在加上一些前綴詞上去，而這個 postCSS 必須要和 autoprefixer 一起搭配。

要安裝的套件為

```
npm i --save-dev postcss-loader autoprefixer
```

以及相對應的設定，可以發現在 sass-loader 編譯完之後會先交由 postcss-loader 加上前綴詞，在給 css-loader 處理，如此便能夠讓我們撰寫的 css 相容於更多的瀏覽器囉 !

``` JavaScript
{
  test: /\.(scss|sass)$/,
  use: [
      MiniCssExtractPlugin.loader,
      "css-loader",
      {
        loader: "postcss-loader",
        options: {
          ident: 'postcss',
          plugins: [
            require('autoprefixer')({
              'browsers': ['> 1%', 'last 2 versions']
            }),
          ]
        }
      },
      "sass-loader"
  ]
},
```

範例程式碼 : https://github.com/cos214159/webpack-tutorial/tree/master/chapter9-sass-loader