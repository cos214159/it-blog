---
title: Electron - 20 Progress Bar
date: 2020-02-13 20:44:24
tags:
  - Electron
categories: 前端
---

electron 可以讓我們去調用作業系統的 progress bar, 而如果要使用的話, 可以在主執行緒和渲染執行緒進行, 如果是在主執行緒調用的話, 就是使用視窗的參考物件去設定進度條

``` js
  mainWindow = new BrowserWindow({
    width: 1000, height: 800,
    webPreferences: {
      nodeIntegration: true,
      preload: __dirname + '/preload.js'
    }
  })
  
  mainWindow.setProgressBar(0.75)
```

而如果是要在視窗程式裡面進行的話, 就是使用 remote 去取得對應的參考並且設定進度條

``` js
const { remote } = require('electron')

const self = remote.getCurrentWindow()

let progress = 0.01

let progressInterval = setInterval(() => {

  self.setProgressBar(progress)

  if (progress <= 1) {
    progress += 0.01
  } else {
    self.setProgressBar(-1)
    clearInterval(progressInterval)
  }
}, 75)

```
