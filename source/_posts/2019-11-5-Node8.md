---
title: node.js 筆記 8 - Restful API
date: 2019-11-05 08:42:07
tags:
  - Node
categories: 前端
---

在以往網路應用比較單純的時候，後端只需要回傳頁面回 client 端，並且搭配 JavaScript 便可以做到簡單的應用，但現今的移動端設備越來越多樣，而該移動端顯示上不需要依靠 HTML，而是透過該裝置作業系統提供的繪圖指令，而他們需要的只有後端的資料，而這就是 Restful API 的功能，只是單純將後端的資料回傳給前端，通常使用的資料格式為 JSON，因為 JSON 在很多的平台上都有支援。

而一般的 HTTP method 有支援 GET、POST、PUT、PATCH、DELETE。

## Restful API Hello World
因為改成使用 Restful API 之後都不是回傳頁面，而是回傳 JSON，所以也不需要 template engine，要注意的是在接收 CLIENT 傳過來的請求時，要使用 JSON 的格式做解析，因此 bodyParser 的設定要改成 `app.use(bodyParser.json());`

``` JavaScript
const express = require('express');
const app = express();
const bodyParser = require('body-parser');

app.use(bodyParser.json());

const productRoutes = require('./routes/product');

app.use('/products', productRoutes);

app.listen(3030);
```

接著是回傳資料時，要改成使用 JSON 的格式回傳

``` JavaScript
exports.getProducts = (req, res, next) => {
  console.log('getProducs');
  res.status(200).json({
    products: [{ title: 'cloth', price: 200 }]
  })
}
```